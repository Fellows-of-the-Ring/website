<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Loopring是在以太坊上ERC20代币间进行交易的，基于智能合约的开放协议。该协议允许多家交易所通过竞争，对公共订单进行链外撮合及链上清结算。">
  <meta name="keywords" content="Loopring,ico">
  <title>Loopring</title>
  <!-- Styles -->
  <link href="../assets/css/core.min.css" rel="stylesheet">
  <link href="../assets/css/main.min.css" rel="stylesheet">
  <link href="../assets/css/fonts.css" rel="stylesheet">
  <link href="../assets/css/style.css" rel="stylesheet">
  <!-- Favicons -->
  <link rel="apple-touch-icon" href="../assets/img/apple-touch-icon.png">
  <link rel="icon" href="../assets/img/favicon.png">
  <div id="shareImage" style="margin:0 auto;display:none;">
    <img src="/assets/img/wechat.jpg" />
  </div>
</head>

<body>
  <!-- Topbar -->
  <nav class="topbar topbar-inverse topbar-expand-md">
    <div class="container">
      <div class="language"><a href="../en/index.html">English</a></div>
      <div class="topbar-block">
        <button class="topbar-toggler"><i></i><i></i><i></i></button>
        <a class="topbar-brand" href="index.html">
          <img class="logo-default" src="../assets/img/logo.png" alt="logo">
          <img class="logo-inverse" src="../assets/img/logo-light.png" alt="logo">
        </a>
      </div>
      <div class="topbar-block">
        <ul class="topbar-nav nav">
          <li class="nav-item"><a class="nav-link " href="index.html">Loopring</a></li>
          <li class="nav-item"><a class="nav-link" href="team.html">项目团队</a></li>
          <li class="nav-item"><a class="nav-link" href="faq.html">常见问题</a></li>
          <li class="nav-item"><a class="nav-link active" href="tokensale.html">代币发售</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- END Topbar -->
  <!-- Main container -->
  <main class="main-content">
    <header class="header header-inverse text-center">
      <div class="container p-mt">
        <h1>代币发售</h1>
      </div>
    </header>
    <section class="section bg-gray">
      <div class="container">
        <header class="section-header">
          <i class="icon icon-ico"></i>
          <h2>关于</h2>
        </header>
        <div class="ico-info">
          <p>我们正在准备代币发售相关工作。下面是代币发售的时间段，不过我们保留更改代币发售具体时间的权利。</p>
          <h4>2017/08/01 ⟷ 2017/08/30</h4>
          <div class="text-center">
            <div class="wechat-m"><img src="../assets/img/wechat-m.png"></div>
          </div>
        </div>
    </section>
    <section class="section">
      <div class="container">
        <header class="section-header">
          <i class="icon icon-loopring"></i>
          <h2>时间线</h2>
        </header>
        <div class="timeline">
          <ul>
            <li class="in-view">
              <div>
                <time>2016年10月</time> 我们有了Loopring的概念</div>
            </li>
            <li class="in-view">
              <div>
                <time>2016年12月</time> 完成环路撮合模拟</div>
            </li>
            <li class="in-view">
              <div>
                <time>2017年5月</time> 完成白皮书撰写</div>
            </li>
            <li class="in-view">
              <div>
                <time>2017年6月</time> 核心团队组建完成，对代币发售方式形成共识</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2017年8月1号</time> 计划代币发售开始</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2017年8月30号</time> 计划代币发售结束</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2017年11月</time> 计划智能合约发布</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2017年12月</time> 计划Loopring代币LRC上线交易</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2018年2月</time> 计划环路撮合算法开源</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2018年4月</time> 计划去中心化Loopring交易所上线</div>
            </li>
          </ul>
        </div>
    </section>
    <section class="section section-inverse">
      <div class="container">
        <header class="section-header section-header-inverse">
          <i class="icon icon-gavel"></i>
          <h2>规则</h2>
        </header>
        <ul class="ico-rule">
          <li>众售代币为LoopringCoin（LRC），符合以太坊ERC20规范；全部LRC通过官网指定的开源智能合约发行，无其它发行方式。</li>
          <li>众售只接受用以太（ETH）购买，且只能将ETH发送给智能合约进行购买。智能合约接收到ETH后会将LRC实时发行并转到ETH的发送地址，代币没有任何锁定期。切勿从交易所直接提现ETH到智能合约，您的LRC可能会丢失，项目团队不负责也不提供技术支持。</li>
          <li>非众售的LRC在众售结束后一星期内由项目团队通过调用智能合约的特定方法来发行（包含该特殊交易的块项目团队称之为“众售结束块”），发行量根据下面的相关规则计算得到，并编码到智能合约当中，任何人无法更改。在此之后无法再增发LRC。</li>
          <li>众售最低需售得5万ETH，达不到该最低目标该众售为失败，团队会在九月的第一星期内原额返还所有ETH（扣除微量以太坊转账手续费）。</li>
          <li>众售最高可售得12万ETH，超过这个最高额度用户无法购买更多LRC。注：最后一笔众售交易有可能造成众售总额略微超过12万ETH。</li>
          <li>众售时间约为一个月。在智能合约中项目团队用区块高度而不是时间来界定众售的开始、结束和各阶段。一天为5082个块的时间，一个月为5082x30=152460个块的时间。</li>
          <li>众售价格为1ETH兑换5000LRC。</li>
          <li>众售分为10个阶段，每个阶段包含15246个块（约三个自然日 = 5082x3）；阶段之间没有间隔。</li>
          <li>为鼓励用户尽早参与，每个阶段（除最后一个阶段外）都有相应的LRC奖励，奖励比例分别是（20%， 16%， 14%， 12%， 10%， 8%， 6%，4%，2%）。</li>
          <li>众售结束后，如果售得的ETH不少于5万但少于6万，未售LRC部分占比67.5%；</li>
          <li>众售结束后，如果售得ETH不少于6万但少于7万，未售部分占比65%；</li>
          <li>众售结束后，如果售得ETH不少于7万但少于8万，未售部分占比62.5%；</li>
          <li>众售结束后，如果售得ETH不少于8万但少于9万，未售部分占比60%；</li>
          <li>众售结束后，如果售得ETH不少于9万但少于10万，未售部分占比57.5%；</li>
          <li>众售结束后，如果售得ETH不少于10万但少于11万，未售部分占比55%；</li>
          <li>众售结束后，如果售得ETH不少于11万但少于12万，未售部分占比52.5%；</li>
          <li>众售结束后，如果售得ETH不少于12万，未售部分占比50%。</li>
          <li>未售部分LRC中40%为团队保留，分4年，每年25%授予；60%为社区推广和社区贡献者保留，不锁定。</li>
          <li>在其它公有链（如EOS，量子链）实施Loopring协议后也会发行LRC代币。如果目标公有链用的数字签名算法和以太坊一致，项目团队将按“众售结束块”中各地址的LRC持有量等比例发行目标公有链上新的LRC代币 — 但会增发5%代币作为对团队的奖励。如果目标公有链的数字签名算法和以太坊不一致，项目团队保留权利采用其它众售策略。</li>
        </ul>
      </div>
    </section>
    <section class="section bg-gray">
      <div class="container">
        <header class="section-header">
          <i class="icon icon-code"></i>
          <h2>合约代码</h2>
        </header>
        <div class="code">
          <pre id="output">pragma solidity ^0.4.11;


import "./StandardToken.sol";

contract LoopringToken is StandardToken {

  string public constant name = "LoopringToken";
  string public constant symbol = "LRC";
  uint public constant decimals = 18;

  uint16[5] public saleAmountPerThousand = [400, 425, 450, 475, 500];
  uint16[5] public phases = [6000, 5750, 5500, 5250, 5000];
  uint public constant blocksPerDay = 5082;
  uint public constant targetBlocksHeight = 5082 * 30; // 30 days.
  uint public constant ethGoalPerPhase = 20000;
  address public target = 0xaea169db31cdd2375bafc08fdb2b56e437edafc6;
 /* address public target = 0x5B6b68eeC6836cC7017Ba3f39CD022Ca4c377c90; */
  uint public firstblock = 0;
  uint public deadlineSecs = 0;
  /* uint public ethAmountRaised = 0; */
  /* uint public loopringTokenAmountSaled = 0; */
  bool public isTokensSendedToTarget = false;
  
  Funder[] public funders;

  struct Funder {
    address addr;
    uint amount;
  }

  event SaleStarted();
  event SaleEnded();
  event InvalidCaller(address caller);
  event InvalidState(bytes msg);
  event Issue(address addr, uint value);
  event PrtEthBalance(address addr, uint value);
  event IcoSucceeded();
  event IcoFailed();

  modifier isOwner {
    if (target == msg.sender) {
        _;
    }
    else InvalidCaller(msg.sender);
  }

  modifier afterStart {
    if (firstblock &gt; 0) {
        _;
    }
    else InvalidState("sale not start yet");
  }

  modifier beforeStart {
    if (firstblock == 0) {
        _;
    }
    else InvalidState("sale already started.");
  }

  modifier beforeEnd {
    if (!checkSaleEnded()) {
      _;
    }
    else InvalidState("sale ended.");
  }

  modifier afterEnd {
    if (checkSaleEnded()) {
      _;
    }
    else InvalidState("sale not end yet.");
  }

  function start(uint _firstblock) public isOwner beforeStart returns (uint) {
    if (firstblock &gt; 0 || _firstblock &lt;= block.number) {
      throw;
    }
    firstblock = _firstblock;
    deadlineSecs = now + 30 * 1 days;
    SaleStarted();
    return firstblock;
  }

  function () payable {
    createTokens(msg.sender);
  }

  function createTokens(address recipient) payable afterStart beforeEnd {
    if (msg.value == 0) {
      throw;
    }

    var numFunders = funders.length;
    Funder f = funders[numFunders++];
    f.addr = msg.sender;
    f.amount = msg.value;

    uint tokens = computeTokenAmount(msg.value); 
    totalSupply = totalSupply.add(tokens);
    transferFrom(target, recipient, tokens);
    Issue(recipient, tokens);
    Issue(target, msg.value);
    
    if (!target.send(msg.value)) {
      throw;
    }
  }

  function end() payable isOwner afterEnd {
    uint ethBalance = target.balance;
    if (ethBalance &lt;= 50000) {
      IcoFailed();
    } else {
      createTokensForOwner();
      IcoSucceeded();
    }
  }

  function refund() payable isOwner afterEnd {
    uint ethBalance = target.balance;
    if (ethBalance &lt;= 50000) {
      for (uint i = 0; i &lt; funders.length; i++) {
        if (funders[i].addr.send(funders[i].amount)) {
          funders[i].addr = 0;
          funders[i].amount = 0;
        } 
      }
    }
  }
  
  function createTokensForOwner() public payable isOwner afterEnd {
    uint ethBalance = target.balance;
    uint tokenSaled = 0;

    for (uint i = 0; i &lt; phases.length; i++) {
      if (ethBalance &lt; ethGoalPerPhase * (i + 1)) {
        uint _ethAmount = ethBalance - ethGoalPerPhase * i;
        if (_ethAmount &gt; 0) {
          tokenSaled = tokenSaled.add(_ethAmount.mul(phases[i]));
        }
      } else {
        tokenSaled = tokenSaled.add(ethGoalPerPhase.mul(phases[i]));
      }
    }

    uint idx = (tokenSaled - 50000) / 10000;
    if (idx &gt;= saleAmountPerThousand.length) {
      idx = saleAmountPerThousand.length - 1;
    }

    uint tokenAmount = tokenSaled.mul((1000 - saleAmountPerThousand[idx])/1000);
    transfer(target, tokenAmount);
  }

  function computeTokenAmount(uint ethAmount) constant returns (uint result) {
    uint ethBalance = target.balance;
    uint quotBefore = ethBalance / ethGoalPerPhase;
    uint quotAfter = (ethBalance +  ethAmount) / ethGoalPerPhase;
    if (quotBefore == quotAfter) {
      return ethAmount.mul(phases[quotBefore]);
    } else {
      uint edgeNumber = quotAfter.mul(ethGoalPerPhase);
      uint preNumber = edgeNumber - ethBalance;
      uint tailNumber = ethBalance + ethAmount - edgeNumber;
      assert(preNumber &gt; 0);
      assert(tailNumber &gt; 0);
      return preNumber.mul(phases[quotBefore]).add(tailNumber.mul(phases[quotAfter]));
    }
  }

  function checkSaleEnded() constant returns (bool result) {
    //if (now &gt;= deadlineSecs) return true;
    if (block.number &gt; targetBlocksHeight) {
      SaleEnded();
      return true;
    }

    uint ethBalance = target.balance;
    if (ethBalance &gt;= ethGoalPerPhase * phases.length) {
      SaleEnded();
      return true;
    }
    
    return false;
  }
}
</pre>
          <p>开源代码可在github上查看：<a href="https://github.com/Loopring/ico">https://github.com/Loopring/ico</a></p>
        </div>
      </div>
      <!--
|‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
| More Header
|‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
!-->
  </main>
  <!-- END Main container -->
  <!-- Footer -->
  <footer class="site-footer ">
    <div class="content">
      <div class="social-logo">
        <span><a href="https://github.com/loopring" class="wrapper"><i class="icon-github icon"></i></a></span>
        <span><a href="https://loopring-team.slack.com/home" class="wrapper"><i class="icon-slack icon"></i></a></span>
        <span><a href="https://twitter.com/loopringorg" class="wrapper"><i class="icon-twitter icon"></i></a></span>
        <span><a href="mailto:foundation@loopring.org" class="wrapper"><i class="icon-mail icon"></i></a></span>
        <span><a href="https://medium.com/@loopring" class="wrapper"><i class="icon-medium icon"></i></a></span>
      </div>
      <div class="copyright">
        Loopring基金会 &#169; 2017. 保留所有权利。
      </div>
    </div>
    <div class="wechat-m"><img src="../assets/img/wechat-m.png"></div>
  </footer>
  <!-- END Footer -->
  <!-- Scripts -->
  <script src="../assets/js/core.min.js"></script>
  <script src="../assets/js/main.min.js"></script>
</body>

</html>
