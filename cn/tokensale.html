<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Loopring是在以太坊上ERC20代币间进行交易的，基于智能合约的开放协议。该协议允许多家交易所通过竞争，对公共订单进行链外撮合及链上清结算。">
  <meta name="keywords" content="Loopring,ico">
  <title>Loopring</title>
  <!-- Styles -->
  <link href="../assets/css/core.min.css" rel="stylesheet">
  <link href="../assets/css/main.min.css" rel="stylesheet">
  <link href="../assets/css/fonts.css" rel="stylesheet">
  <link href="../assets/css/style.css" rel="stylesheet">
  <!-- Favicons -->
  <link rel="apple-touch-icon" href="../assets/img/apple-touch-icon.png">
  <link rel="icon" href="../assets/img/favicon.png">
  <div id="shareImage" style="margin:0 auto;display:none;">
    <img src="/assets/img/wechat.jpg" />
  </div>
</head>

<body>
  <!-- Topbar -->
  <nav class="topbar topbar-inverse topbar-expand-md">
    <div class="container">
      <div class="language"><a href="../en/index.html">English</a></div>
      <div class="topbar-block">
        <button class="topbar-toggler"><i></i><i></i><i></i></button>
        <a class="topbar-brand" href="index.html">
          <img class="logo-default" src="../assets/img/logo.png" alt="logo">
          <img class="logo-inverse" src="../assets/img/logo-light.png" alt="logo">
        </a>
      </div>
      <div class="topbar-block">
        <ul class="topbar-nav nav">
          <li class="nav-item"><a class="nav-link " href="index.html">Loopring</a></li>
          <li class="nav-item"><a class="nav-link" href="team.html">项目团队</a></li>
          <li class="nav-item"><a class="nav-link" href="faq.html">常见问题</a></li>
          <li class="nav-item"><a class="nav-link active" href="tokensale.html">代币发售</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- END Topbar -->
  <!-- Main container -->
  <main class="main-content">
    <header class="header header-inverse text-center">
      <div class="container p-mt">
        <h1>代币发售</h1>
      </div>
    </header>
    <section class="section bg-gray">
      <div class="container">
        <header class="section-header">
          <i class="icon icon-ico"></i>
          <h2>关于</h2>
        </header>
        <div class="ico-info">
          <p>我们正在准备代币发售相关工作。下面是代币发售的时间段，不过我们保留更改代币发售具体时间的权利。</p>
          <h4>2017/08/01 ⟷ 2017/08/30</h4>
          <div class="text-center">
            <div class="wechat-m"><img src="../assets/img/wechat-m.png"></div>
          </div>
        </div>
    </section>
    <section class="section">
      <div class="container">
        <header class="section-header">
          <i class="icon icon-loopring"></i>
          <h2>时间线</h2>
        </header>
        <div class="timeline">
          <ul>
            <li class="in-view">
              <div>
                <time>2016年10月</time> 我们有了Loopring的概念</div>
            </li>
            <li class="in-view">
              <div>
                <time>2016年12月</time> 完成环路撮合模拟</div>
            </li>
            <li class="in-view">
              <div>
                <time>2017年5月</time> 完成白皮书撰写</div>
            </li>
            <li class="in-view">
              <div>
                <time>2017年6月</time> 核心团队组建完成，对代币发售方式形成共识</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2017年8月1号</time> 计划代币发售开始</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2017年8月30号</time> 计划代币发售结束</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2017年11月</time> 计划智能合约发布</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2017年12月</time> 计划Loopring代币LRC上线交易</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2018年2月</time> 计划环路撮合算法开源</div>
            </li>
            <li class="in-view">
              <div class="todo">
                <time>2018年4月</time> 计划去中心化Loopring交易所上线</div>
            </li>
          </ul>
        </div>
    </section>
    <section class="section section-inverse">
      <div class="container">
        <header class="section-header section-header-inverse">
          <i class="icon icon-gavel"></i>
          <h2>规则</h2>
        </header>
        <ul class="ico-rule">
          <li>众售代币为LoopringCoin（LRC），符合以太坊ERC20规范；全部LRC通过官网指定的开源智能合约发行，无其它发行方式。</li>
          <li>众售只接受用以太（ETH）购买，且只能将ETH发送给智能合约进行购买。智能合约接收到ETH后会将LRC实时发行并转到ETH的发送地址，代币没有任何锁定期。切勿从交易所直接提现ETH到智能合约，您的LRC可能会丢失，项目团队不负责也不提供技术支持。</li>
          <li>非众售的LRC在众售结束后一星期内由项目团队通过调用智能合约的特定方法来发行（包含该特殊交易的块项目团队称之为“众售结束块”），发行量根据下面的相关规则计算得到，并编码到智能合约当中，任何人无法更改。在此之后无法再增发LRC。</li>
          <li>众售最低需售得5万ETH，达不到该最低目标该众售为失败，团队会在九月的第一星期内原额返还所有ETH（扣除微量以太坊转账手续费）。</li>
          <li>众售最高可售得12万ETH，超过这个最高额度用户无法购买更多LRC。注：最后一笔众售交易有可能造成众售总额略微超过12万ETH。</li>
          <li>众售时间约为一个月。在智能合约中项目团队用区块高度而不是时间来界定众售的开始、结束和各阶段。一天为5082个块的时间，一个月为5082x30=152460个块的时间。</li>
          <li>众售价格为1ETH兑换5000LRC。</li>
          <li>众售分为10个阶段，每个阶段包含15246个块（约三个自然日 = 5082x3）；阶段之间没有间隔。</li>
          <li>为鼓励用户尽早参与，每个阶段（除最后一个阶段外）都有相应的LRC奖励，奖励比例分别是（20%， 16%， 14%， 12%， 10%， 8%， 6%，4%，2%）。</li>
          <li>众售结束后，如果售得的ETH不少于5万但少于6万，未售LRC部分占比67.5%；</li>
          <li>众售结束后，如果售得ETH不少于6万但少于7万，未售部分占比65%；</li>
          <li>众售结束后，如果售得ETH不少于7万但少于8万，未售部分占比62.5%；</li>
          <li>众售结束后，如果售得ETH不少于8万但少于9万，未售部分占比60%；</li>
          <li>众售结束后，如果售得ETH不少于9万但少于10万，未售部分占比57.5%；</li>
          <li>众售结束后，如果售得ETH不少于10万但少于11万，未售部分占比55%；</li>
          <li>众售结束后，如果售得ETH不少于11万但少于12万，未售部分占比52.5%；</li>
          <li>众售结束后，如果售得ETH不少于12万，未售部分占比50%。</li>
          <li>未售部分LRC中40%为团队保留，分4年，每年25%授予；60%为社区推广和社区贡献者保留，不锁定。</li>
          <li>在其它公有链（如EOS，量子链）实施Loopring协议后也会发行LRC代币。如果目标公有链用的数字签名算法和以太坊一致，项目团队将按“众售结束块”中各地址的LRC持有量等比例发行目标公有链上新的LRC代币 — 但会增发5%代币作为对团队的奖励。如果目标公有链的数字签名算法和以太坊不一致，项目团队保留权利采用其它众售策略。</li>
        </ul>
      </div>
    </section>
    <section class="section bg-gray">
      <div class="container">
        <header class="section-header">
          <i class="icon icon-code"></i>
          <h2>合约代码</h2>
        </header>
        <div class="code">
          <pre id="output">pragma solidity ^0.4.11;

import "./StandardToken.sol";

/** 
  @title Loopring Protocol Token.
*/
contract LoopringToken is StandardToken {

  string public constant name = "LoopringCoin";
  string public constant symbol = "LRC";
  uint public constant decimals = 18;

  /*
    During token sale, we use one consistent price: 5000LRC/ETH.
    We splict the entire token sale period into 10 phases, each
    phase has a different bonus setting as specified in `bonusPercentages`.
    The real price for phase i is `(1 + bonusPercentages[i]/100.0) * 5000LRC/ETH`.

    The first phase or early-bird phase has a much higher bonus.
  */
  uint8[10] public constant bonusPercentages = [20, 16, 14, 12, 10, 8, 6, 4, 2, 0];

  /*
    Each phase contains exactly 15264 Ethereum blocks, which is roughfy 3 days. 
    TODO(dongw): add a reference to num of blocks per day.
  */
  uint16 public constant blocksPerPhase = 15264;

  /*
    This is where we hold ETH during this token sale. We will not transfer any Ether
    out of this address before we invocate the `endSale` function. This promise is not 
    guanranteed by smart contract by can be verified based on public transactions.

    This is also the only address from which `start` and `endSale` can be invocated.

    TODO(dongw): this should also be a multi-sig address in production.
  */
  address public constant target = 0x249acd967f6eb5b8907e5c888cbd8a005d0b23f4;

  /*
    `firstblock` specifies from which block our token sale starts. 
    This can only be modified once by the owner of `target` address.
  */
  uint public firstblock = 0;

  /*
    Specifies whether tokens that are not sold have been issued. This part of LRC token
    is managed by the project team and is issued directly to `target`. 
  */

  bool public unsoldTokenIssued = false;


  /*
    A simple stat for emitting events.
  */
  uint public totalEthReceived = 0;


  // EVENTS -----------------------------------------------

  /*
    Emitted only once after token sale starts.
  */
  event SaleStarted();

  /*
    Emitted only once after token sale ended (all token issued).
  */
  event SaleEnded();

  /*
    Emitted when a function is invocated by unauthorized addresses.
  */
  event InvalidCaller(address caller);

  /*
    Emitted when a function is invocated without the specified preconditions.
    This event will not come alone with an exception.
  */
  event InvalidState(bytes msg);

  /*
    Emitted for each sucuessful token purchase.
  */
  event Issue(address addr, uint ethAmount, uint tokenAmount);

  /*
    Emitted if the token sale succeeded.
  */
  event SaleSucceeded();

  /*
    Emitted if the token sale failed.
    When token sale failed, all Ether will be return to the original purchasing
    address with a minor deduction of transaction fee（gas)
  */
  event SaleFailed();


  // PUBLIC FUNCTIONS -------------------------------------

  /**
    Start the token sale by specifying the starting block.
  */
  function start(uint _firstblock) public isOwner beforeStart returns (uint firstblock) {
    if (_firstblock <= block.number) {
      // Must specified a block in the future.
      throw;
    }

    firstblock = _firstblock;
    SaleStarted();
  }

  /**
    Triggers unsold tokens to be issued to `target` address.
  */
  function close() public isOwner afterEnd {
    if (totalEthReceived < 50000 ether) {
      SaleFailed();
    } else {
      issueUnsoldToken();
      SaleSucceeded();
    }
  }

  /**
    This default function allows token to be purchased by directly
    sending ether to this smart contract.
  */
  function () payable {
    issueToken(msg.sender);
  }

  // MODIFIERS --------------------------------------------

  modifier isOwner {
    if (target == msg.sender) {
      _;
    }
    else InvalidCaller(msg.sender);
  }

  modifier beforeStart {
    if (!saleStarted()) {
      _;
    }
    else InvalidState("Sale not started yet");
  }

  modifier inProgress {
    if (saleStarted() && !saleEnded()) {
      _;
    } else InvalidState("Sale not in progress"); 
  }

  modifier afterEnd {
    if (saleEnded()) {
      _;
    }
    else InvalidState("Sale not ended yet");
  }

  // INTERNAL FUNCTIONS -----------------------------------

  function issueToken(address recipient) payable inProgress {
    // We only accept minimum purchase of 0.01 ETH.
    assert(msg.value >= 0.01 ether);

    uint tokens = computeTokenAmount(msg.value);
    totalEthReceived = totalEthReceived.add(msg.value);
    totalSupply = totalSupply.add(tokens);
    balances[recipient] = balances[recipient].add(tokens);

    Issue(recipient, msg.value, tokens);

    if (!target.send(msg.value)) {
      throw;
    }
  }

  function computeTokenAmount(uint ethAmount) returns (uint tokens) {
    uint8 phase = (block.number - firstblock).div(blocksPerPhase);

    // A safe check
    if (phase >= bonusPercentages.length) {
      phase = bonusPercentages.length - 1;
    }

    uint tokenBase = ethAmount.mul(5000 /* base price */);
    uint tokenBonus = tokenBase.mul(bonusPercentages[phase]).div(100);

    tokens = tokenBase.add(tokenBonus);
  }

  /**
    Issue unsold token to `target` address.
    The math is as follows:
    if totalEthReceived >= 50K but < 60K, the unsold part is 67.5% of all token;
    if totalEthReceived >= 60K but < 70K, the unsold part is 65.0% of all token;
    if totalEthReceived >= 70K but < 80K, the unsold part is 62.5% of all token;
    if totalEthReceived >= 80K but < 90K, the unsold part is 60.0% of all token;
    if totalEthReceived >= 90K but < 100K, the unsold part is 57.5% of all token;
    if totalEthReceived >= 100K but < 110K, the unsold part is 55.0% of all token;
    if totalEthReceived >= 110K but < 120K, the unsold part is 52.5% of all token;
    if totalEthReceived >= 120K, the unsold part is 50.0% of all token;
  */
  function issueUnsoldToken() {
    if(unsoldTokenIssued) {
      InvalidState("Unsold token issued already");
    } else {
        
      uint8 level = totalEthReceived.sub(50000 ether).div(10000 ether);
      if (level > 7) {
        level = 7;
      }
      
      uint16 unsoldRatioInThousand = 675 - 25 * level;
      uint unsoldToken = totalSupply.div(1000 - unsoldRatioInThousand).mul(unsoldRatioInThousand);

      totalSupply = totalSupply.add(unsoldToken);
      balances[target] = balances[target].add(unsoldToken);

      Issue(target, 0, unsoldToken);
      unsoldTokenIssued = true;
    }
  }

  function saleStarted() constant returns (bool) {
    return (firstblock > 0 && block.number >= firstblock);
  }

  function saleEnded() constant returns (bool) {
    return (firstblock > 0 && (
      (block.number >= firstblock + blocksPerPhase * 10 /* num of phases */) ||
      (totalEthReceived >= 120000 ether /* upper bound */)));
  }
}

</pre>
          <p>开源代码可在github上查看：<a href="https://github.com/Loopring/ico">https://github.com/Loopring/ico</a></p>
        </div>
      </div>
      <!--
|‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
| More Header
|‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒‒
!-->
  </main>
  <!-- END Main container -->
  <!-- Footer -->
  <footer class="site-footer ">
    <div class="content">
      <div class="social-logo">
        <span><a href="https://github.com/loopring" class="wrapper"><i class="icon-github icon"></i></a></span>
        <span><a href="https://loopring-team.slack.com/home" class="wrapper"><i class="icon-slack icon"></i></a></span>
        <span><a href="https://twitter.com/loopringorg" class="wrapper"><i class="icon-twitter icon"></i></a></span>
        <span><a href="mailto:foundation@loopring.org" class="wrapper"><i class="icon-mail icon"></i></a></span>
        <span><a href="https://medium.com/@loopring" class="wrapper"><i class="icon-medium icon"></i></a></span>
      </div>
      <div class="copyright">
        Loopring基金会 &#169; 2017. 保留所有权利。
      </div>
    </div>
    <div class="wechat-m"><img src="../assets/img/wechat-m.png"></div>
  </footer>
  <!-- END Footer -->
  <!-- Scripts -->
  <script src="../assets/js/core.min.js"></script>
  <script src="../assets/js/main.min.js"></script>
</body>

</html>
